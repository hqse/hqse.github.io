<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
     <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style type="text/css">
    html,body,#map_canvas{width: 100%;height: 100%;overflow: hidden;margin:0;}
    </style>
<!-- http://maps.googleapis.com/maps/api/js?key=AIzaSyA50SdqNB1ikp2u76V-osofUhieLJdxssA&sensor=false"  -->

    <script type="text/javascript" src="http://maps.google.cn/maps/api/js?key=AIzaSyA50SdqNB1ikp2u76V-osofUhieLJdxssA&sensor=false"></script>
    <script type="text/javascript">
     var $D=document;
     var map;
     var mmp;
     var Markers = [];
     var Rectangles = [];
     var zoomLevel = 9;
     var geocoder = new google.maps.Geocoder();

     function $(i){return $D.getElementById(i);}

       function initialize(){
           var mapOptions = {center: new google.maps.LatLng(30.558462,114.274294),zoom: zoomLevel,disableDefaultUI:true,scaleControl:true,scaleControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},mapTypeId:google.maps.MapTypeId.SATELLITE,draggableCursor:'default'};
           var mapDiv = $("map_canvas"); 
           map = new google.maps.Map(mapDiv,mapOptions);
           mmp = $("mp");
           var minfo = $("info");
           var mscale = $("scale");
           minfo.innerHTML=zoomLevel;
           mscale.innerHTML=getSC(zoomLevel);
           google.maps.event.addListener(map,'zoom_changed',function(){zoomLevel=map.getZoom();minfo.innerHTML=zoomLevel;mscale.innerHTML=getSC(zoomLevel);});
           google.maps.event.addListener(map,'click',function(event){mmp.value=event.latLng.lng() + '|' + event.latLng.lat();Markers.push(new google.maps.Marker({position: event.latLng, map: map}));});
       }

       function setZ(){
           map.setZoom(parseInt($("mz").value));
       }
 
       function addOver(){
           var b = mmp.value.split("|");
           var i = parseFloat(b[0]);
           var j = parseFloat(b[1]);
           var p = new google.maps.LatLng(j,i);
           var m = new google.maps.Marker({position: p,map: map});
           Markers.push(m);
           map.panTo(p);   //移动 
       } 

function addOver2(){
var t = mmp.value.split("|");
mmp.value ="";
var ps = t.length;
if(ps==2){
var i = parseFloat(t[0]);
var j = parseFloat(t[1]);
var p = new google.maps.LatLng(j,i);
var m = new google.maps.Marker({position: p,map: map});
Markers.push(m);
map.panTo(p);   //移动 

}else if(ps==4){
var bounds,i,j,k,l;
i = parseFloat(t[0]);
j = parseFloat(t[1]);
k = parseFloat(t[2]);
l = parseFloat(t[3]);
bounds = new google.maps.LatLngBounds(new google.maps.LatLng(i,j),new google.maps.LatLng(k,l)); 
var r=new google.maps.Rectangle({strokeColor:"red",strokeOpacity: 1,strokeWeight: 4,fillColor: '',fillOpacity: 0,map: map,bounds: bounds});
Rectangles.push(r);
map.fitBounds(bounds); 

/*
}else if(ps>=6){
  var count = ps / 2;
  var arr = new Array(count);
  for(var i = 0; i < count; i++)
    arr[i] = new BMap.Point(parseFloat(t[i*2]),parseFloat(t[i*2+1]));
  polygon = new BMap.Polygon(arr,{strokeColor:SC,strokeOpacity:1,strokeWeight:4,fillColor:""});
  map.addOverlay(polygon);
  map.setViewport(polygon.getPath());
*/
}
}

       function addOver3(a,b,c,d){
           var bounds,i,j,k,l;
           i = parseFloat(a);
           j = parseFloat(b);
           k = parseFloat(c);
           l = parseFloat(d);
           bounds = new google.maps.LatLngBounds(new google.maps.LatLng(k,j),new google.maps.LatLng(i,l)); 
           var r=new google.maps.Rectangle({strokeColor:'Fuchsia',strokeOpacity:1,strokeWeight: 4,fillColor:'Fuchsia',fillOpacity:0.2,map: map,bounds: bounds});
           Rectangles.push(r);
           map.fitBounds(bounds); 
       }


       function clearOver(){
          for(var i=0; i < Markers.length; i++)Markers[i].setMap(null);
          for(var i=0; i < Rectangles.length; i++)Rectangles[i].setMap(null);
          Markers = [];
          Rectangles = [];
       }


       function getBoundary(){
          geocoder.geocode({'address':$("mcity").value}, function(results, status){if(status == google.maps.GeocoderStatus.OK){
           map.fitBounds(results[0].geometry.viewport);
          }});
      }
       
       function mup(){
          if(zoomLevel<19)zoomLevel+=1;
          map.setZoom(zoomLevel);
          }


       function mdown(){
          if(zoomLevel>0)zoomLevel-=1;
          map.setZoom(zoomLevel);
       }

       function getSC(a){
          var t;
          if(a==19)t="[20米/100英尺]-[20米/50英尺]";
          if(a==18)t="[50米/200英尺]-[50米/100英尺]";
          if(a==17)t="[100米/200英尺]";
          if(a==16)t="[200米/500英尺]";
          if(a==15)t="[500米/1000英尺]-[200米/1000英尺]";
          if(a==14)t="[1公里/2000英尺]-[500米/2000英尺]";
          if(a==13)t="[2公里/1英里]-[1公里/1英里]";
          if(a==12)t="[2公里/2英里]";
          if(a==11)t="[5公里/5英里]-[5公里/2英里]";
          if(a==10)t="[10公里/10英里]-[10公里/5英里]";
          if(a==9)t="[20公里/20英里]-[20公里/10英里]";
          if(a==8)t="[50公里/20英里]";
          if(a==7)t="[100公里/50英里]";
          if(a==6)t="[200公里/100英里]";
          if(a==5)t="[500公里/200英里]-[200公里/200英里]";
          return(t);
       }

    </script>
   <title>谷歌卫星【GCJ-02】</title>
  </head>
  <body onload="initialize()">
<div style="width: 100%;height: 40px;overflow: hidden;margin:0;">
<p align=right><font color=red><b>比例：</b></font><span id="scale"></span>&nbsp;<font color=red><b>层：</b></font><span id="info"></span>&nbsp;
<input type=button id=upd onclick=mup() value=放>
<input type=button id=dnd onclick=mdown() value=缩>
<input type=text value="14" id=mz size=1> <input type=button onclick=setZ() value=层 id=mzb>
<input type=text value="武汉" id=mcity size=6> <input type=button onclick=getBoundary() value=区>
<input type=text value="" id=mp> <input type=button onclick=addOver2() value=显示 id=mpb> <input type=button onclick=clearOver() value=清>
</p></div><div id="map_canvas"></div>
</body></html>
